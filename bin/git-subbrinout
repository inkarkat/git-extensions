#!/bin/bash

typeset -a subdoRecursiveArg=()
if [ "$1" = --recursive ]; then
    subdoRecursiveArg=("$1"); shift
fi
isNeedColorArgumentWhenPiping "$@" && set -- --color=always "$@"
quotedArgs=; [ $# -gt 0 ] && printf -v quotedArgs '%q ' "$@"
exec git-subdo "${subdoRecursiveArg[@]}" --single-success --command 'branch="$(cd $toplevel && git-subtrackedbr "$sm_path")" && git-existsbr -- "$branch" && git-inout '"$quotedArgs"'"$branch"'
